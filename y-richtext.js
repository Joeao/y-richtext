!function t(e,r,n){function o(s,u){if(!r[s]){if(!e[s]){var l="function"==typeof require&&require;if(!u&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return o(r?r:t)},c,c.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,r){var n,o,i,s,u={}.hasOwnProperty,l=function(t,e){function r(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};s=t("./misc.coffee"),n=function(){function t(t){this.editor=t,this.locker=new s.Locker}return t.prototype.getContents=function(){throw new Error("Implement me")},t.prototype.getCursor=function(){throw new Error("Implement me")},t.prototype.setCursor=function(t){throw new Error("Implement me")},t.prototype.removeCursor=function(){throw new Error("Implement me")},t.prototype.removeCursor=function(t){throw new Error("Implement me")},t.prototype.observeLocalText=function(t){throw new Error("Implement me")},t.prototype.observeLocalCursor=function(t){throw new Error("Implement me")},t.prototype.updateContents=function(t){throw new Error("Implement me")},t.prototype.setContents=function(t){throw new Error("Implement me")},t.prototype.getEditor=function(){throw new Error("Implement me")},t.prototype.checkUpdate=function(){throw new Error("Implement me")},t}(),o=function(t){function e(t){this.editor=t,e.__super__.constructor.call(this,this.editor),this._cursors=this.editor.getModule("multi-cursor")}return l(e,t),e.prototype.getLength=function(){return this.editor.getLength()},e.prototype.getCursorPosition=function(){var t;return t=this.editor.getSelection(),t?t.start:0},e.prototype.getContents=function(){return this.editor.getContents().ops},e.prototype.setCursor=function(t){return this.locker["try"](function(e){return function(){var r,n,o;return r=e._cursors.cursors[t.id],null!=r&&r.color===t.color?n=function(r){return e._cursors.moveCursor(t.id,r)}:(null!=r&&null!=r.color&&r.color!==t.color&&e.removeCursor(t.id),n=function(r){return e._cursors.setCursor(t.id,r,t.text,t.color)}),o=e.editor.getLength(),t.index>o&&(t.index=o),null!=t.index?n(t.index):void 0}}(this))},e.prototype.removeCursor=function(t){return this._cursors.removeCursor(t)},e.prototype.removeCursor=function(t){return this._cursors.removeCursor(t)},e.prototype.observeLocalText=function(t){return this.editor.on("text-change",function(e,r){var n;return n=t(e),this.editor.selection.emitter.emit(this.editor.selection.emitter.constructor.events.SELECTION_CHANGE,this.editor.quill.getSelection(),"user")})},e.prototype.observeLocalCursor=function(t){return this.editor.on("selection-change",function(e,r){return e&&e.start===e.end?t(e.start):void 0})},e.prototype.updateContents=function(t){return this.editor.updateContents(t)},e.prototype.setContents=function(t){return this.editor.setContents(t)},e.prototype.getEditor=function(){return this.editor},e.prototype.checkUpdate=function(){return this.editor.editor.checkUpdate()},e}(n),i=function(t){function e(t){this.editor=t,e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.getLength=function(){return 0},e.prototype.getCursorPosition=function(){return 0},e.prototype.getContents=function(){return{ops:[{insert:"Well, this is a test!"},{insert:"And I'm boldâ€¦",attributes:{bold:!0}}]}},e.prototype.setCursor=function(){return""},e.prototype.observeLocalText=function(t){return""},e.prototype.observeLocalCursor=function(t){return""},e.prototype.updateContents=function(t){return""},e.prototype.setContents=function(t){return""},e.prototype.getEditor=function(){return this.editor},e}(n),r.QuillJs=o,r.TestEditor=i,r.AbstractEditor=n},{"./misc.coffee":2}],2:[function(t,e,r){var n,o;o=function(){function t(){this.is_locked=!1}return t.prototype["try"]=function(t){var e;if(!this.is_locked)return this.is_locked=!0,e=t(),this.is_locked=!1,e},t}(),n=function(){function t(){this._tmp_model={}}return t.prototype._get=function(t){return null==this._model?this._tmp_model[t]:this._model.val(t)},t.prototype._set=function(t,e){return null==this._model?this._tmp_model[t]=e:this._model.val(t,e)},t.prototype._getModel=function(t,e){var r,n,o;if(null==this._model){this._model=new e.MapManager(this).execute(),o=this._tmp_model;for(r in o)n=o[r],this._model.val(r,n)}return this._model},t.prototype._setModel=function(t){return this._model=t,delete this._tmp_model},t}(),"undefined"!=typeof e&&null!==e&&(r.BaseClass=n,r.Locker=o)},{}],3:[function(t,e,r){var n,o,i,s,u,l,c=function(t,e){return function(){return t.apply(e,arguments)}},h={}.hasOwnProperty,a=function(t,e){function r(){this.constructor=t}for(var n in e)h.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};if(l=t("./misc.coffee"),n=l.BaseClass,s=l.Locker,i=t("./editors.coffee"),o=t("rich-text/lib/delta"),u=function(t){function e(t,e){this.updateCursorPosition=c(this.updateCursorPosition,this),this.passDeltas=c(this.passDeltas,this),this.locker=new s,null!=t&&null!=e&&(this._bind_later={name:t,instance:e}),this.pendingDelta=new o,window.setInterval(this.applyUpdateContents.bind(this),200)}var r,n,u;return a(e,t),e.prototype.applyUpdateContents=function(){return null!=this.editor&&this.pendingDelta.length()>0?this.locker["try"](function(t){return function(){return t.editor.updateContents(t.pendingDelta),t.pendingDelta=new o}}(this)):void 0},e.prototype.bind=function(){var t,e,r;if(arguments[0]instanceof i.AbstractEditor)this.editor=arguments[0];else{if(r=arguments[0],e=arguments[1],null!=this.editor&&this.editor.getEditor()===e)return;if(t=i[r],null==t)throw new Error("This type of editor is not supported! ("+r+")");this.editor=new t(e)}return this.editor.setContents({ops:this.getDelta()}),this.editor.observeLocalText(function(t){return function(e){var r;return r=t.pendingDelta.transform(e),t.applyUpdateContents(),t.passDeltas.call(t.editor,r)}}(this).bind(this)),this.bindEventsToEditor(this.editor),this.editor.observeLocalCursor(this.updateCursorPosition),this._model.connector.receive_handlers.unshift(function(t){return function(){return t.editor.checkUpdate()}}(this))},e.prototype.observe=function(t){return null!=this._model?this._model.observe(t):this._observeWhenModel=(this._observeWhenModel||[]).push(t)},e.prototype.attachProvider=function(t,e){return this._providers=this._providers||{},this._providers[t]=e},e.prototype.getDelta=function(){var t,e,r,n,i,s,u,l,c,h;for(s=this._model.getContent("characters").val(),e=0,t=new o,i=this._model.getContent("selections"),h=i.getSelections(this._model.getContent("characters")),l=0,c=h.length;c>l;l++){if(r=h[l],n=r.to-r.from+1,e!==r.from&&(u=s.splice(0,r.from-e).join(""),t.insert(u),e+=u.length),e!==r.from)throw new Error("This portion of code must not be reached in getDelta!");t.insert(s.splice(0,n).join(""),r.attrs),e+=n}return s.length>0&&t.insert(s.join("")),t},e.prototype._getModel=function(t,e){var r,n,o;if(null==this._model){if(n={selections:new t.Selections,characters:new t.List,cursors:new t.Object},this._model=new e.MapManager(this,null,{},n).execute(),this._setModel(this._model),null!=this._bind_later){if(r=i[this._bind_later.name],null==r)throw new Error("This type of editor is not supported! ("+editor_name+") -- fatal error!");o=new r(this._bind_later.instance),this.passDeltas({ops:o.getContents()}),this.bind(o),delete this._bind_later}this._model.observe(this.propagateToEditor),(this._observeWhenModel||[]).forEach(function(t){return this._model.observe(t)})}return this._model},e.prototype._setModel=function(t){return e.__super__._setModel.apply(this,arguments),(this._observeWhenModel||[]).forEach(function(t){return this._model.observe(t)})},e.prototype._name="RichText",e.prototype.getText=function(){return this._model.getContent("characters").val().join("")},e.prototype.setCursor=function(t){return this.selfCursor=this._model.getContent("characters").ref(t),this._model.getContent("cursors").val(this._model.HB.getUserId(),this.selfCursor)},e.prototype.passDeltas=function(t){return this.locker["try"](function(e){return function(){var r,o,i,s,u,l;for(o=0,u=t.ops||[],l=[],i=0,s=u.length;s>i;i++)r=u[i],l.push(o=n(e,r,o));return l}}(this))},e.prototype.updateCursorPosition=function(t){return this.locker["try"](function(e){return function(){return e.selfCursor="number"==typeof t?e._model.getContent("characters").ref(t):t,e._model.getContent("cursors").val(e._model.HB.getUserId(),e.selfCursor)}}(this))},e.prototype.bindEventsToEditor=function(t){return this._model.getContent("characters").observe(function(t){return function(e){return t.locker["try"](function(){var r,n,i,s,u,l,c,h,a;for(u=0,c=e.length;c>u;u++){if(s=e[u],i=new o,s.position>0&&i.retain(s.position),"insert"===s.type)i.insert(s.value);else{if("delete"!==s.type)return;for(i["delete"](1),a=t._model.getContent("cursors").val(),n=l=0,h=a.length;h>l;n=++l)r=a[n],n===s.reference&&window.setTimeout(function(){return this._model.getContent("cursors")["delete"](r)},0)}t.pendingDelta=t.pendingDelta.compose(i),t.applyUpdateContents()}})}}(this)),this._model.getContent("selections").observe(function(t){return function(e){return t.locker["try"](function(){var r,n,i,s,u,l,c,h,a;if(n={},"select"===e.type){h=e.attrs;for(r in h)u=h[r],n[r]=u}else for(a=e.attrs,l=0,c=a.length;c>l;l++)r=a[l],n[r]=null;return i=e.from.getPosition(),s=e.to.getPosition()-e.from.getPosition()+1,t.editor.updateContents(new o({ops:[{retain:i},{retain:s,attributes:n}]}))})}}(this)),this._model.getContent("cursors").observe(function(t){return function(e){return t.locker["try"](function(){var r,n,o,i,s,u,l,c,h;for(u=0,l=e.length;l>u;u++)if(n=e[u],"update"===n.type||"add"===n.type){if(r=n.changedBy,s=n.object.val(r),null===s)i=t.editor.getLength();else{if(null==s)return void console.warn("ref_to_char is undefined");if(s.isDeleted())return;i=s.getPosition()}o={id:r,index:i,text:(null!=(c=t._providers)&&"function"==typeof c.nameProvider?c.nameProvider(r):void 0)||"Default user",color:(null!=(h=t._providers)&&"function"==typeof h.colorProvider?h.colorProvider(r):void 0)||"grey"},t.editor.setCursor(o)}else t.editor.removeCursor(n.name)})}}(this)),this._model.connector.onUserEvent(function(t){return function(e){return"userLeft"===e.action?t._model.getContent("cursors")["delete"](e.user):void 0}}(this))},n=function(t,e,n){var o,i,s,l,c,h,a,p,f,d,g,m,b;if(null==n&&(n=0),null!=e){f=t._model.getContent("selections"),s=[],i={},b=e.attributes;for(a in b)m=b[a],null!=m?i[a]=m:s.push(a);if(null!=e.insert)return h=e.insert,o=function(){if("string"==typeof h)return h.split("");if("number"==typeof h)return[h];throw new Error("Got an unexpected value in delta.insert! ("+typeof content+")")}(),u(t,n,o),c=l,g=n+o.length-1,l=t._model.getContent("characters").ref(n),d=t._model.getContent("characters").ref(n+o.length-1),t._model.getContent("selections").unselect(l,d,s),t._model.getContent("selections").select(l,d,i,!0),n+o.length;if(null!=e["delete"])return r(t,n,e["delete"]),n;if(null!=e.retain)return p=parseInt(e.retain),l=t._model.getContent("characters").ref(n),d=t._model.getContent("characters").ref(n+p-1),t._model.getContent("selections").unselect(l,d,s),t._model.getContent("selections").select(l,d,i),n+p;throw new Error("This part of code must not be reached!")}},u=function(t,e,r){return t._model.getContent("characters").insertContents(e,r)},r=function(t,e,r){return null==r&&(r=1),t._model.getContent("characters")["delete"](e,r)},e}(n),"undefined"!=typeof window&&null!==window){if(null==window.Y)throw new Error("You must first import Y!");window.Y.RichText=u}"undefined"!=typeof e&&null!==e&&(e.exports=u)},{"./editors.coffee":1,"./misc.coffee":2,"rich-text/lib/delta":4}],4:[function(t,e,r){var n=t("fast-diff"),o=t("./is"),i=t("./op"),s=String.fromCharCode(0),u=function(t){this.ops=o.array(t)?t:o.object(t)&&o.array(t.ops)?t.ops:[]};u.prototype.insert=function(t,e){var r={};return 0===t.length?this:(r.insert=t,o.object(e)&&Object.keys(e).length>0&&(r.attributes=e),this.push(r))},u.prototype["delete"]=function(t){return 0>=t?this:this.push({"delete":t})},u.prototype.retain=function(t,e){if(0>=t)return this;var r={retain:t};return o.object(e)&&Object.keys(e).length>0&&(r.attributes=e),this.push(r)},u.prototype.push=function(t){var e=this.ops.length,r=this.ops[e-1];if(t=i.clone(t),o.object(r)){if(o.number(t["delete"])&&o.number(r["delete"]))return this.ops[e-1]={"delete":r["delete"]+t["delete"]},this;if(o.number(r["delete"])&&null!=t.insert&&(e-=1,r=this.ops[e-1],!o.object(r)))return this.ops.unshift(t),this;if(o.equal(t.attributes,r.attributes)){if(o.string(t.insert)&&o.string(r.insert))return this.ops[e-1]={insert:r.insert+t.insert},o.object(t.attributes)&&(this.ops[e-1].attributes=t.attributes),this;if(o.number(t.retain)&&o.number(r.retain))return this.ops[e-1]={retain:r.retain+t.retain},o.object(t.attributes)&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},u.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},u.prototype.length=function(){return this.ops.reduce(function(t,e){return t+i.length(e)},0)},u.prototype.slice=function(t,e){t=t||0,o.number(e)||(e=1/0);for(var r=new u,n=i.iterator(this.ops),s=0;e>s&&n.hasNext();){var l;t>s?l=n.next(t-s):(l=n.next(e-s),r.push(l)),s+=i.length(l)}return r},u.prototype.compose=function(t){for(var e=i.iterator(this.ops),r=i.iterator(t.ops),n=new u;e.hasNext()||r.hasNext();)if("insert"===r.peekType())n.push(r.next());else if("delete"===e.peekType())n.push(e.next());else{var s=Math.min(e.peekLength(),r.peekLength()),l=e.next(s),c=r.next(s);if(o.number(c.retain)){var h={};o.number(l.retain)?h.retain=s:h.insert=l.insert;var a=i.attributes.compose(l.attributes,c.attributes,o.number(l.retain));a&&(h.attributes=a),n.push(h)}else o.number(c["delete"])&&o.number(l.retain)&&n.push(c)}return n.chop()},u.prototype.diff=function(t){var e=new u;if(this.ops===t.ops)return e;var r=[this.ops,t.ops].map(function(e){return e.map(function(r){if(null!=r.insert)return o.string(r.insert)?r.insert:s;var n=e===t.ops?"on":"with";throw new Error("diff() called "+n+" non-document")}).join("")}),l=n(r[0],r[1]),c=i.iterator(this.ops),h=i.iterator(t.ops);return l.forEach(function(t){for(var r=t[1].length;r>0;){var s=0;switch(t[0]){case n.INSERT:s=Math.min(h.peekLength(),r),e.push(h.next(s));break;case n.DELETE:s=Math.min(r,c.peekLength()),c.next(s),e["delete"](s);break;case n.EQUAL:s=Math.min(c.peekLength(),h.peekLength(),r);var u=c.next(s),l=h.next(s);o.equal(u.insert,l.insert)?e.retain(s,i.attributes.diff(u.attributes,l.attributes)):e.push(l)["delete"](s)}r-=s}}),e.chop()},u.prototype.transform=function(t,e){if(e=!!e,o.number(t))return this.transformPosition(t,e);for(var r=i.iterator(this.ops),n=i.iterator(t.ops),s=new u;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!e&&"insert"===n.peekType())if("insert"===n.peekType())s.push(n.next());else{var l=Math.min(r.peekLength(),n.peekLength()),c=r.next(l),h=n.next(l);if(c["delete"])continue;h["delete"]?s.push(h):s.retain(l,i.attributes.transform(c.attributes,h.attributes,e))}else s.retain(i.length(r.next()));return s.chop()},u.prototype.transformPosition=function(t,e){e=!!e;for(var r=i.iterator(this.ops),n=0;r.hasNext()&&t>=n;){var o=r.peekLength(),s=r.peekType();r.next(),"delete"!==s?("insert"===s&&(t>n||!e)&&(t+=o),n+=o):t-=Math.min(o,t-n)}return t},e.exports=u},{"./is":5,"./op":6,"fast-diff":7}],5:[function(t,e,r){e.exports={equal:function(t,e){if(t===e)return!0;if(null==t&&null==e)return!0;if(null==t||null==e)return!1;if(!this.object(t)||!this.object(e))return!1;if(Object.keys(t).length!=Object.keys(e).length)return!1;for(var r in t)if(t[r]!==e[r])return!1;return!0},array:function(t){return Array.isArray(t)},number:function(t){return"number"==typeof t?!0:"object"==typeof t&&"[object Number]"===Object.prototype.toString.call(t)?!0:!1},object:function(t){return t?"function"==typeof t||"object"==typeof t:!1},string:function(t){return"string"==typeof t?!0:"object"==typeof t&&"[object String]"===Object.prototype.toString.call(t)?!0:!1}}},{}],6:[function(t,e,r){function n(t){this.ops=t,this.index=0,this.offset=0}var o=t("./is"),i={attributes:{clone:function(t,e){return o.object(t)?Object.keys(t).reduce(function(r,n){return void 0===t[n]||null===t[n]&&!e||(r[n]=t[n]),r},{}):{}},compose:function(t,e,r){o.object(t)||(t={}),o.object(e)||(e={});var n=this.clone(e,r);for(var i in t)void 0!==t[i]&&void 0===e[i]&&(n[i]=t[i]);return Object.keys(n).length>0?n:void 0},diff:function(t,e){o.object(t)||(t={}),o.object(e)||(e={});var r=Object.keys(t).concat(Object.keys(e)).reduce(function(r,n){return t[n]!==e[n]&&(r[n]=void 0===e[n]?null:e[n]),r},{});return Object.keys(r).length>0?r:void 0},transform:function(t,e,r){if(!o.object(t))return e;if(!o.object(e))return void 0;if(!r)return e;var n=Object.keys(e).reduce(function(r,n){return void 0===t[n]&&(r[n]=e[n]),r},{});return Object.keys(n).length>0?n:void 0}},clone:function(t){var e=this.attributes.clone(t);return o.object(e.attributes)&&(e.attributes=this.attributes.clone(e.attributes,!0)),e},iterator:function(t){return new n(t)},length:function(t){return o.number(t["delete"])?t["delete"]:o.number(t.retain)?t.retain:o.string(t.insert)?t.insert.length:1}};n.prototype.hasNext=function(){return this.peekLength()<1/0},n.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var r=this.offset,n=i.length(e);if(t>=n-r?(t=n-r,this.index+=1,this.offset=0):this.offset+=t,o.number(e["delete"]))return{"delete":t};var s={};return e.attributes&&(s.attributes=e.attributes),o.number(e.retain)?s.retain=t:s.insert=o.string(e.insert)?e.insert.substr(r,t):e.insert,s}return{retain:1/0}},n.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},n.prototype.peekType=function(){return this.ops[this.index]?o.number(this.ops[this.index]["delete"])?"delete":o.number(this.ops[this.index].retain)?"retain":"insert":"retain"},e.exports=i},{"./is":5}],7:[function(t,e,r){function n(t,e){if(t==e)return t?[[f,t]]:[];var r=u(t,e),n=t.substring(0,r);t=t.substring(r),e=e.substring(r),r=l(t,e);var i=t.substring(t.length-r);t=t.substring(0,t.length-r),e=e.substring(0,e.length-r);var s=o(t,e);return n&&s.unshift([f,n]),i&&s.push([f,i]),h(s),s}function o(t,e){var r;if(!t)return[[p,e]];if(!e)return[[a,t]];var o=t.length>e.length?t:e,s=t.length>e.length?e:t,u=o.indexOf(s);if(-1!=u)return r=[[p,o.substring(0,u)],[f,s],[p,o.substring(u+s.length)]],t.length>e.length&&(r[0][0]=r[2][0]=a),r;if(1==s.length)return[[a,t],[p,e]];var l=c(t,e);if(l){var h=l[0],d=l[1],g=l[2],m=l[3],b=l[4],v=n(h,g),y=n(d,m);return v.concat([[f,b]],y)}return i(t,e)}function i(t,e){for(var r=t.length,n=e.length,o=Math.ceil((r+n)/2),i=o,u=2*o,l=new Array(u),c=new Array(u),h=0;u>h;h++)l[h]=-1,c[h]=-1;l[i+1]=0,c[i+1]=0;for(var f=r-n,d=f%2!=0,g=0,m=0,b=0,v=0,y=0;o>y;y++){for(var _=-y+g;y-m>=_;_+=2){var C,w=i+_;C=_==-y||_!=y&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1;for(var x=C-_;r>C&&n>x&&t.charAt(C)==e.charAt(x);)C++,x++;if(l[w]=C,C>r)m+=2;else if(x>n)g+=2;else if(d){var k=i+f-_;if(k>=0&&u>k&&-1!=c[k]){var E=r-c[k];if(C>=E)return s(t,e,C,x)}}}for(var j=-y+b;y-v>=j;j+=2){var E,k=i+j;E=j==-y||j!=y&&c[k-1]<c[k+1]?c[k+1]:c[k-1]+1;for(var L=E-j;r>E&&n>L&&t.charAt(r-E-1)==e.charAt(n-L-1);)E++,L++;if(c[k]=E,E>r)v+=2;else if(L>n)b+=2;else if(!d){var w=i+f-j;if(w>=0&&u>w&&-1!=l[w]){var C=l[w],x=i+C-w;if(E=r-E,C>=E)return s(t,e,C,x)}}}}return[[a,t],[p,e]]}function s(t,e,r,o){var i=t.substring(0,r),s=e.substring(0,o),u=t.substring(r),l=e.substring(o),c=n(i,s),h=n(u,l);return c.concat(h)}function u(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),o=n,i=0;o>r;)t.substring(i,o)==e.substring(i,o)?(r=o,i=r):n=o,o=Math.floor((n-r)/2+r);return o}function l(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var r=0,n=Math.min(t.length,e.length),o=n,i=0;o>r;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?(r=o,i=r):n=o,o=Math.floor((n-r)/2+r);return o}function c(t,e){function r(t,e,r){for(var n,o,i,s,c=t.substring(r,r+Math.floor(t.length/4)),h=-1,a="";-1!=(h=e.indexOf(c,h+1));){var p=u(t.substring(r),e.substring(h)),f=l(t.substring(0,r),e.substring(0,h));a.length<f+p&&(a=e.substring(h-f,h)+e.substring(h,h+p),n=t.substring(0,r-f),o=t.substring(r+p),i=e.substring(0,h-f),s=e.substring(h+p))}return 2*a.length>=t.length?[n,o,i,s,a]:null}var n=t.length>e.length?t:e,o=t.length>e.length?e:t;if(n.length<4||2*o.length<n.length)return null;var i,s=r(n,o,Math.ceil(n.length/4)),c=r(n,o,Math.ceil(n.length/2));if(!s&&!c)return null;i=c?s&&s[4].length>c[4].length?s:c:s;var h,a,p,f;t.length>e.length?(h=i[0],a=i[1],p=i[2],f=i[3]):(p=i[0],f=i[1],h=i[2],a=i[3]);var d=i[4];return[h,a,p,f,d]}function h(t){t.push([f,""]);for(var e,r=0,n=0,o=0,i="",s="";r<t.length;)switch(t[r][0]){case p:o++,s+=t[r][1],r++;break;case a:n++,i+=t[r][1],r++;break;case f:n+o>1?(0!==n&&0!==o&&(e=u(s,i),0!==e&&(r-n-o>0&&t[r-n-o-1][0]==f?t[r-n-o-1][1]+=s.substring(0,e):(t.splice(0,0,[f,s.substring(0,e)]),r++),s=s.substring(e),i=i.substring(e)),e=l(s,i),0!==e&&(t[r][1]=s.substring(s.length-e)+t[r][1],s=s.substring(0,s.length-e),i=i.substring(0,i.length-e))),0===n?t.splice(r-o,n+o,[p,s]):0===o?t.splice(r-n,n+o,[a,i]):t.splice(r-n-o,n+o,[a,i],[p,s]),r=r-n-o+(n?1:0)+(o?1:0)+1):0!==r&&t[r-1][0]==f?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,o=0,n=0,i="",s=""}""===t[t.length-1][1]&&t.pop();var c=!1;for(r=1;r<t.length-1;)t[r-1][0]==f&&t[r+1][0]==f&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)==t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),c=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),c=!0)),r++;c&&h(t)}var a=-1,p=1,f=0,d=n;d.INSERT=p,d.DELETE=a,d.EQUAL=f,e.exports=d},{}]},{},[3]);